var perfKeeperExtConnection=function(n){"use strict";var t=("object"==typeof globalThis&&globalThis||"object"==typeof window&&window||"object"==typeof global&&global||{}).performance,f=(t&&t.now||Date.now,[]);function g(a,i,c,u){var r={};return[function(n,t,e,o){var a=r;f.concat(n).forEach(function(n){var t=a.nested||(a.nested={});a=t[n]||(t[n]={name:n})}),null!=a.end?a.end+=e-t:(a.start=t,a.end=e,a.unit=o)},function(n,t,e,o){r.name=n?a+"-"+n:a,r.start=t,r.end=e,function t(n,e){var o,a=n.nested,r=a?Object.keys(a):f;r.length?((o=(e||i).group(n.name,n.start,!e))._=!0,o.unit=c||"ms",(!1===u?r:r.sort()).forEach(function(n){t(a[n],o)}),o.stop(n.end)):e&&(e.add(n.name,n.start,n.end),e.entries[e.entries.length-1].unit=n.unit||e.unit)}(r,null),o&&(r={})}]}return n.networkInformation=function(n,t){void 0===t&&(t={});var e=t.sendChanged,o=void 0===e||e,a=navigator.connection||navigator.mozConnection||navigator.webkitConnection,r=g("pk-conn",n,"none",!1),i=r[0],c=r[1],u="type",f="effectiveType",d="saveData";if(i(["supported",""+!!a],0,1),!a)return i([f,"unk"],0,1),void c(null,0,1);function l(n){var t=a[n],e=v[n];if(v[n]!==t)return v[n]=t,n===f||n===u||n===d?(i([n,t],0,1),o&&void 0!==e&&i(["changed",n,e,t],0,1)):i([n],0,t,"raw"),!0}var s=["downlink",f,"rtt",d,u],v={};s.forEach(l),null==v[f]&&i([f,"unk"],0,1),c(null,0,1,!0),o&&a.addEventListener("change",function(){var t=!1;s.forEach(function(n){t=l(n)||t}),t&&c(null,0,1,!0)})},n}({});
