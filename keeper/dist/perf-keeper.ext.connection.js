var perfKeeperExtConnection=function(n){"use strict";var e=("object"==typeof globalThis&&globalThis||"object"==typeof window&&window||"object"==typeof global&&global||{}).performance,f=(e&&e.now||Date.now,[]);function s(a,i,c,u){var r={};return[function(n,e,t,o){var a=r;f.concat(n).forEach(function(n){var e=a.nested||(a.nested={});a=e[n]||(e[n]={name:n})}),null!=a.end?a.end+=t-e:(a.start=e,a.end=t,a.unit=o)},function(n,e,t,o){r.name=n?a+"-"+n:a,r.start=e,r.end=t,function e(n,t){var o,a=n.nested,r=a?Object.keys(a):f;r.length?((o=(t||i).group(n.name,n.start,!t))._=!0,o.unit=c||"ms",(!1===u?r:r.sort()).forEach(function(n){e(a[n],o)}),o.stop(n.end)):t&&(t.add(n.name,n.start,n.end),t.entries[t.entries.length-1].unit=n.unit||t.unit)}(r,null),o&&(r={})}]}return n.networkInformation=function(n,e){void 0===e&&(e={});var t,o,a,r=e.sendChanged,i=void 0===r||r,c=navigator.connection||navigator.mozConnection||navigator.webkitConnection,u=s("pk-conn",n,"none",!1),f=u[0],d=u[1];f(["supported",""+!!c],0,1,"none"),c?(o={},(t=["downlink","effectiveType","rtt","saveData","type"]).forEach(a=function(n){var e=c[n],t=o[n];if(o[n]!==e)return o[n]=e,"effectiveType"===n||"type"===n||"saveData"===n?(f([n,e],0,1),i&&void 0!==t&&f(["changed",n,t,e],0,1)):f([n],0,e,"raw"),!0}),d(null,0,1,!0),i&&c.addEventListener("change",function(){var e=!1;t.forEach(function(n){e=a(n)||e}),e&&d(null,0,1,!0)})):d(null,0,1)},n}({});
