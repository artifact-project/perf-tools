var perfKeeperExtResource=function(e){"use strict";var d=Function("return this")(),p=d.document,y=d.performance;y&&y.now||Date.now;var s=[];function z(a,c,o){var i={};return[function(e,n,t,r){var a=i;s.concat(e).forEach(function(e){var n=a.nested||(a.nested={});a=n[e]||(n[e]={name:e})}),null!=a.end?a.end+=t-n:(a.start=n,a.end=t,a.unit=r)},function(e,n,t,r){i.name=e?a+"-"+e:a,i.start=n,i.end=t,function n(e,t){var r=e.nested,a=r?Object.keys(r):s;if(a.length){var i=(t||c).group(e.name,e.start);i._=!0,i.unit=o||"ms",a.sort().forEach(function(e){n(r[e],i)}),i.stop(e.end)}else t.add(e.name,e.start,e.end),t.entries[t.entries.length-1].unit=e.unit||t.unit}(i,null),r&&(i={})}]}var S=/^https?:\/\/(?:www\.)?(.*?)\.[a-z]+\//,g=6e4,E={};return e.defaultResourceStatsOptions=E,e.resourceStats=function(e,n){void 0===n&&(n=E);var t,r=z("pk-resource-traffic",e,"KiB"),i=r[0],c=r[1],a=z("pk-resource-traffic-cached",e,"KiB"),o=a[0],s=a[1],u=z("pk-resource-stats",e),f=u[0],h=u[1],l=n.resourceName||function(e){var n=S.exec(e.name);return n?[e.initiatorType,n[1]]:null},m=n.resourceCategoryName,v=n.intervals||[["15sec",15e3],["1min",g],["5min",3e5],["15min",9e5],["30min",18e5],["1hour",36e5],["1day",864e5],["2days",1728e5]];t=function(){var u={size:0,cached:0,cachedSize:0,transfered:0,transferedSize:0,unmeasurable:0,duration:0},t=[],r="start";function d(e,n,t){n&&(e?o:i)(n,0,t)}function a(){var e=y.getEntriesByType("resource");e&&0<e.length&&(t=t.concat(e)),y.clearResourceTimings()}try{!function e(){a(),t.forEach(function(e){var n=e.duration,t=e.transferSize,r=e.entryType,a=e.nextHopProtocol,i=e.initiatorType,c=t||e.encodedBodySize||e.decodedBodySize,o=!t;if("navigation"===i&&(i="html"),i&&0<c&&(d(o,a,c),d(o,r,c),d(o,i,c),"html"!==i)){var s=function(e,n,t){(0!==n||e!==a&&e!==r&&e!==i)&&d(o,t.slice(0,n+1),c)};l(e).forEach(s),m&&m(e).forEach(s)}u.size+=c,u.duration+=n,u[i]=(u[i]||0)+1,o?(u.cached++,u.cachedSize+=c):0<c?(u.transfered++,u.transferedSize+=c):u.unmeasurable++}),Object.keys(u).forEach(function(e){f(e,0,u[e])}),h(r,0,u.size),0<u.transfered&&c(r,0,u.transferedSize),0<u.cachedSize&&s(r,0,u.cachedSize),t.length=0;var n=v.shift();n&&(r=n[0],setTimeout(e,n[1]))}(),y.onresourcetimingbufferfull=function(){a()}}catch(e){}},"complete"===p.readyState?t():d.addEventListener("DOMContentLoaded",t)},e}({});
