var perfKeeperExtNavigation=function(t){"use strict";var n=Function("return this")(),e=n.document,S=n.performance;S&&S.now||Date.now;function L(t){"complete"===e.readyState?t():n.addEventListener("DOMContentLoaded",t)}var k=[];var C={};return t.defaultNavTimingsOptions=C,t.navigationTimings=function(t,n){void 0===n&&(n=C);var r,o,d,c,i,e=(r="pk-navigation",o=t,c=!(d="ms"),i={},[function(t,n,e,a){var r=i;k.concat(t).forEach(function(t){var n=r.nested||(r.nested={});r=n[t]||(n[t]={name:t})}),null!=r.end?r.end+=e-n:(r.start=n,r.end=e,r.unit=a)},function(t,n,e,a){i.name=t?r+"-"+t:r,i.start=n,i.end=e,function n(t,e){var a=t.nested,r=a?Object.keys(a):k;if(r.length){var i=(e||o).group(t.name,t.start);i._=!0,i.unit=d||"ms",(!1===c?r:r.sort()).forEach(function(t){n(a[t],i)}),i.stop(t.end)}else e&&(e.add(t.name,t.start,t.end),e.entries[e.entries.length-1].unit=t.unit||e.unit)}(i,null),a&&(i={})}]),s=e[0],u=e[1];try{var a=S.timing,m=a.navigationStart,v=a.redirectStart,p=a.redirectEnd,f=a.fetchStart,l=a.domainLookupStart,E=a.domainLookupEnd,g=a.requestStart,h=a.responseStart,y=a.responseEnd;v?(s("init",m,v),s("redirect",v,p),s("app-cache",p,l)):f?(s("init",m,f),s("app-cache",f,l)):s("init",m,l),s("dns",l,E),s("tcp",E,g),s("request",g,h),s("response",h,y),u("net",m,y,!0)}catch(n){}L(function t(){try{var n=S.timing,e=n.responseEnd,a=n.domInteractive,r=n.domContentLoadedEventEnd,i=n.domComplete;if(!i)return void setTimeout(t,250);s("interactive",e,a),s("content-loaded",a,r),s("complete",r,i),u("dom-ready",e,i,!0)}catch(t){}}),L(function t(){try{var n=S.timing,e=n.responseEnd,a=n.domComplete,r=n.loadEventEnd;if(!r)return void setTimeout(t,250);s("ready",e,a),s("load",a,r),u("dom-load",e,r,!0)}catch(t){}})},t}({});
