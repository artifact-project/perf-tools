var perfKeeperExtNavigation=function(t){"use strict";var e=Function("return this")(),n=e.document,T=e.performance;T&&T.now||Date.now;function L(t){"complete"===n.readyState?t():e.addEventListener("DOMContentLoaded",t)}var k=[];var C={};return t.defaultNavTimingsOptions=C,t.navigationTimings=function(t,e){void 0===e&&(e=C);var r,o,d,c,i,n=(r="pk-nav",o=t,c=!(d="ms"),i={},[function(t,e,n,a){var r=i;k.concat(t).forEach(function(t){var e=r.nested||(r.nested={});r=e[t]||(e[t]={name:t})}),null!=r.end?r.end+=n-e:(r.start=e,r.end=n,r.unit=a)},function(t,e,n,a){i.name=t?r+"-"+t:r,i.start=e,i.end=n,function e(t,n){var a=t.nested,r=a?Object.keys(a):k;if(r.length){var i=(n||o).group(t.name,t.start);i._=!0,i.unit=d||"ms",(!1===c?r:r.sort()).forEach(function(t){e(a[t],i)}),i.stop(t.end)}else n&&(n.add(t.name,t.start,t.end),n.entries[n.entries.length-1].unit=t.unit||n.unit)}(i,null),a&&(i={})}]),s=n[0],u=n[1];try{var a=T.timing,v=a.navigationStart,m=a.redirectStart,p=a.redirectEnd,f=a.fetchStart,l=a.domainLookupStart,E=a.domainLookupEnd,g=a.requestStart,h=a.responseStart,y=a.responseEnd,S=navigator.connection;S&&S.effectiveType&&s("conn-"+S.effectiveType,0,1,"raw"),m?(s("init",v,m),s("redirect",m,p),s("app-cache",p,l)):f?(s("init",v,f),s("app-cache",f,l)):s("init",v,l),s("dns",l,E),s("tcp",E,g),s("request",g,h),s("response",h,y),u("net",v,y,!0)}catch(e){}L(function t(){try{var e=T.timing,n=e.responseEnd,a=e.domInteractive,r=e.domContentLoadedEventEnd,i=e.domComplete;if(!i)return void setTimeout(t,250);s("interactive",n,a),s("content-loaded",a,r),s("complete",r,i),u("dom-ready",n,i,!0)}catch(t){}}),L(function t(){try{var e=T.timing,n=e.responseEnd,a=e.domComplete,r=e.loadEventEnd;if(!r)return void setTimeout(t,250);s("ready",n,a),s("load",a,r),u("dom-load",n,r,!0)}catch(t){}})},t}({});
