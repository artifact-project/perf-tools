var perfKeeperExtPerformance=function(t){"use strict";var O=Function("return this")(),I=O.document,e=O.performance,x=e&&e.now?function(){return e.now()}:Date.now;var M=[];var j={minLatency:100,ttiDelay:2e3,prefIdProp:"data-perf-id"};function z(t,r,a){t.forEach(function(e){var n=function(t){O.removeEventListener(e,n,!0),r(e,t)};(a=a||O).addEventListener(e,n,!0)})}return t.defaultPerformanceOptions=j,t.performanceTimings=function(t,n){void 0===n&&(n={});var a,o,u,c,i,r,f,e,s={},d=!1,v=!1,l=(a="pk-perf",o=t,i={},[function(t,e,n,r){var a=i;M.concat(t).forEach(function(t){var e=a.nested||(a.nested={});a=e[t]||(e[t]={name:t})}),null!=a.end?a.end+=n-e:(a.start=e,a.end=n,a.unit=r)},function(t,e,n,r){i.name=t?a+"-"+t:a,i.start=e,i.end=n,function e(t,n){var r=t.nested,a=r?Object.keys(r):M;if(a.length){var i=(n||o).group(t.name,t.start);i._=!0,i.unit=u||"ms",(!1===c?a:a.sort()).forEach(function(t){e(r[t],i)}),i.stop(t.end)}else n&&(n.add(t.name,t.start,t.end),n.entries[n.entries.length-1].unit=t.unit||n.unit)}(i,null),r&&(i={})}]),p=l[0],m=l[1],y=["click","touchup","submit","abort","blur","contextmenu","deviceorientation","offline","online","paint","popstate","resize","wheel","scroll"],h=n.minLatency,E=void 0===h?j.minLatency:h,b=n.ttiDelay,g=void 0===b?j.ttiDelay:b,L=n.getPerfId,T=void 0===L?function(t,e){for(var n;t&&!n&&1===t.nodeType;)n=t.getAttribute(e),t=t.parentNode;return n}:L;function P(t){return T(t&&1===t.nodeType?t:null,n.prefIdProp||j.prefIdProp)}function k(){Object.keys(s).forEach(function(t){var e=s[t];e.values.forEach(function(t){p(t[0],t[1],t[2])}),m(t,e.start,e.end,!0)}),d=!(s={})}function D(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=x());var a=s[t]=s[t]||{start:0,end:0,values:[]};a.start=Math.min(a.start,n),a.end=Math.max(a.end,r),a.values.push([e,n,r]),!d&&setTimeout(k),d=!0}function w(t,e){var n=P(e.target),r="first-"+t+(v?"-ready":"");D(r,"value"),n&&D(r,n)}z(y,w),z(["beforeunload"],function(){D("tab-unload","value")}),["click","touchup","input","submit","resize","scroll"].forEach(function(a){O.addEventListener(a,function(t){var n=t.target,r=x();requestAnimationFrame(function(){var t=x();if(E<=t-r){var e=P(n);p("value",r,t),e&&p(e,r,t),m("latency-"+a,r,t,!0)}})},!0)});try{(f=new PerformanceObserver(function(t){r=t.getEntries().pop()})).observe({entryTypes:["longtask"]})}catch(t){}e=function(){if(v=!0,f){var t,e=function(){r?(t=r.startTime+r.duration,x()-t>=g?(D("tti","value",0,t),f.disconnect()):setTimeout(e,n.ttiDelay)):t?(D("tti","value",0,t),f.disconnect()):(t=x(),setTimeout(e,500))};e()}z(y,w)},"complete"===I.readyState?e():O.addEventListener("DOMContentLoaded",e)},t}({});
