var timekeeper=function(e){"use strict";var k=null,x="font-weight: bold",F=Function("return this")(),n=F.Date,r=n.now||function(){return(new n).getTime()},t=r(),N=F.console,b=F.performance||{},E="mark",T="measure",y="clearMarks",C="clearMeasures";function M(e){return"color: #"+(e<2?"ccc":e<5?"666":e<10?"333":e<30?"f90":e<60?"f60":"f00")}function q(e,n){return e.hasOwnProperty(n)}return b.now=b.now||b.webkitNow||b.mozNow||b.msNow||function(){return r()-t},e.create=function(n){var t,r,i=n.perf||b,f=n.prefix||"",o=!0===n.silent,p=n.console||N,a=n.warn||p.warn&&p.warn.bind(p),u=!!(i[E]&&i[T]&&i[y]&&i[C])&&n.timeline,c=[],s={},m=0,l=k,d=!1;function v(e){r=e[E],t=""+f+e.name,i[T](t,r),i[y](r),i[C](t)}function w(){!function e(n){for(var r,t,i,o,a,u,c=0,s=0;c<n.length;c++)(r=n[c]).end&&!r.active&&(t=r.end-r.start,o=""+f+r.name+": %c"+t.toFixed(3)+"ms",(u=(a=r.entries)?a.length:0)<1?(p.log(o,x+";"+M(t)),s+=t):(p[p.groupCollapsed&&u<2?"groupCollapsed":"group"](o,M(t)),3<(i=t-e(a))&&p.log(f+"[[self]]: %c"+i.toFixed(3)+"ms",x+";"+M(i)),s+=t,p.groupEnd()),r.parent===k&&(n.splice(c,1),c--));return d=!1,s}(c)}function g(e,n){if(o)return{};var r={mark:(t=""+f+e+"-"+ ++m)+"-mark",name:e,parent:l,entries:k,active:0,start:i.now(),end:0};return l!==k?(l.active++,l.entries.push(r)):c.push(r),n?(r.entries=[],l=r):(q(s,e)||(s[e]=[]),s[e].push(r)),u&&i[E](r[E]),r}function h(e){n.print&&!1===d&&(d=!0,(F.requestAnimationFrame||setTimeout)(w)),e===k||(0<e.active?0==--e.active&&h(e):(e.end=i.now(),u&&v(e),h(e.parent)))}return{entries:c,time:function(e){g(e,!1)},timeEnd:function(e){if(!o){if(q(s,e))for(var n=s[e],r=n.length,t=void 0;r--;)if(0===(t=n[r]).end)return t.end=i.now(),u&&v(t),void h(t.parent);a&&a('[timekeeper] Timer "'+e+"\" doesn't exist")}},group:function(e){g(e,!0).active=1},groupEnd:function(e){o||l===k?!o&&a&&a("[timekeeper] No active groups"):(e!=k&&l.name!==e&&a&&a('[timekeeper] Wrong group "'+e+'" (actual: "'+l.name+'")'),h(l),l=l.parent)},wrap:function(n){if(o)return n;var r,t=l;return t.active++,function(){var e=l;return l=t,r=n.apply(this,arguments),h(t),l=e,r}}}},e}({});
