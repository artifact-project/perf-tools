var timekeeper=function(e){"use strict";var h=null,k="font-weight: bold",x=Function("return this")(),n=x.Date,r=n.now||function(){return(new n).getTime()},t=r(),F=x.console,N=x.performance||{},E="mark",T="measure",b="clearMarks",y="clearMeasures";function C(e){return"color: #"+(e<2?"ccc":e<5?"666":e<10?"333":e<30?"f90":e<60?"f60":"f00")}function M(e,n){return e.hasOwnProperty(n)}return N.now=N.now||N.webkitNow||N.mozNow||N.msNow||function(){return r()-t},e.create=function(n){var t,r,i=n.perf||N,f=n.prefix||"",o=!0===n.silent,p=n.console||F,a=!!(i[E]&&i[T]&&i[b]&&i[y])&&n.timeline,u=[],c={},s=0,m=h,l=!1;function v(e){r=e[E],t=""+f+e.name,i[T](t,r),i[b](r),i[y](t)}function d(){!function e(n){for(var r,t,i,o,a,u,c=0,s=0;c<n.length;c++)(r=n[c]).end&&!r.active&&(t=r.end-r.start,o=""+f+r.name+": %c"+t.toFixed(3)+"ms",(u=(a=r.entries)?a.length:0)<1?(p.log(o,k+";"+C(t)),s+=t):(p[p.groupCollapsed&&u<2?"groupCollapsed":"group"](o,C(t)),3<(i=t-e(a))&&p.log(f+"[[self]]: %c"+i.toFixed(3)+"ms",k+";"+C(i)),s+=t,p.groupEnd()),r.parent===h&&(n.splice(c,1),c--));return l=!1,s}(u)}function w(e,n){if(o)return{};var r={mark:(t=""+f+e+"-"+ ++s)+"-mark",name:e,parent:m,entries:h,active:0,start:i.now(),end:0};return m!==h?(m.active++,m.entries.push(r)):u.push(r),n?(r.entries=[],m=r):(M(c,e)||(c[e]=[]),c[e].push(r)),a&&i[E](r[E]),r}function g(e){n.print&&!1===l&&(l=!0,(x.requestAnimationFrame||setTimeout)(d)),e===h||(0<e.active?0==--e.active&&g(e):(e.end=i.now(),a&&v(e),g(e.parent)))}return{entries:u,time:function(e){w(e,!1)},timeEnd:function(e){if(!o){if(M(c,e))for(var n=c[e],r=n.length,t=void 0;r--;)if(0===(t=n[r]).end)return t.end=i.now(),a&&v(t),void g(t.parent);p.warn('[timekeeper] Timer "'+e+"\" doesn't exist")}},group:function(e){w(e,!0).active=1},groupEnd:function(e){o||m===h?!o&&p.warn("[timekeeper] No active groups"):(e!=h&&m.name!==e&&p.warn('[timekeeper] Wrong group "'+e+'" (actual: "'+m.name+'")'),g(m),m=m.parent)},wrap:function(n){if(o)return n;var r,t=m;return t.active++,function(){var e=m;return m=t,r=n.apply(this,arguments),g(t),m=e,r}}}},e}({});
